# onLogin: acquire openid and sessionid and then put them in storage
- route: /auth/on_login
- method: POST
- request data:
    - code string
- response data:
    - openid string
    - sid string
- response status:
    - 200 success
    - 500 failure

# afterLogin: callback of onLogin; get userInfo through wx api
- route: /auth/after_login
- method: PUT
- request params:
    - openid string
    - sid string
- request data:
    - avatar string
    - gender int
    - nickname string
- response status:
    - 200 success
    - 201 success new user
    - 401 auth check fails
    - 500 failure

  -----------------------------------------
# Get one group
- route: /group/_id/:groupID
- method: GET
- request params:
    - openid string
    - sid string
- respnose data:
    - group Group
- response status:
    - 200 success
    - 401 auth check fails
    - 500 failure

# Get group by userID
- route: /group/user
- method: GET
- request params:
    - openid stirng
    - sid string
- response data
  - group []Group
- response status:
    - 200 success
    - 401 auth check fails
    - 500 failure

# Create group
- route: /group
- method: PUT
- request params:
    - openid string
    - sid string
- request data:
    - name string
    - user_ids []string
- response data:
    - id int
- response status:
    - 201 success
    - 401 auth check fails
    - 403 not allowed
    - 500 failure

# Update group
- route: /group/:groupID
- method: POST
- request params:
    - openid string
    - sid string
- request data:
    - id int
    - name string
- response status:
    - 200 success
    - 201 success group changed
    - 401 auth check fails
    - 403 not allowed
    - 500 failure

# Delete group
- route: /group/:groupID
- method: DELETE
- request params:
    - openid string
    - sid string
- request data:
    - id int
- response status:
    - 200 success
    - 401 auth check fails
    - 403 not allowed
    - 500 failure

-----------------------------------------
# Get one task
- route: /task/:taskId/meta
- method: GET
- request params:
    - openid string
    - sid string
- response data:
    - name string
    - type int
    - done bool
    - group_id int
    - publisher_id string
    - leader_id string
    - start_date string
    - end_date string
    - readonly bool
    - description string
- response status:
    - 200 success
    - 401 auth check fails
    - 403 not allowed
    - 500 failure

# Get worker of the task
- route: /task/:taskId/workers
- method: GET
- request params:
    - openid string
    - sid string
- response data:
    - workers []User # done, done time, id, name
- response status:
    - 200 success
    - 401 auth check fails
    - 403 not allowed
    - 500 failure

# Get task content # tbd # advanced
- route: /task/:taskId
- method: GET
    - request params:
        - openid string
        - sid string
    - response data:

    - response status:
        - 200 success
        - 401 auth check fails
        - 403 not allowed
        - 500 failure

# Get tasks by groupID
- route: /task/group/_id
- method: GET
- request params:
    - openid string
    - sid string
    - group_id int
- response data:
    - task []Task # meta
- response status:
    - 200 success
    - 401 auth check fails
    - 403 not allowed
    - 500 failure


# Create task
- route: /task
- method: PUT
- request params:
    - openid string
    - sid string
- request data:
    - group_id int
    - user_ids []string
    - name string
    - type int
    - leader_id # tbd
    - start_date string: # format: 2020-02-02
    - end_date string
    - description string
- response data:
    - id int
- response status:
    - 200 success
    - 201 success created
    - 400 wrong request format
    - 401 auth check fails
    - 403 not allowed
    - 500 failure

# Update a task; only update meta value; contents update would be implemented in next sprint
- route: /task/:taskId/meta
- method: POST
- request params:
    - openid string
    - sid string
- request data:
    - name string
    - start_date string
    - end_date string
    - readonly bool
    - description string
    - done bool
- response status:
    - 200 success
    - 201 success updated
    - 400 wrong request format
    - 401 auth check fails
    - 403 not allowed
    - 500 failure

# Update data content; advanced feature
- route: /task/:taskId
- method: POST
- request params:
    - openid string
    - sid string
...

# Delete task
- route: /tasks/:taskID
- method: DELETE
- request params:
    - openid string
    - sid string
- response status:
    - 200 success
    - 201 success deleted
    - 401 auth check fails
    - 403 not allowed
    - 500 failure

